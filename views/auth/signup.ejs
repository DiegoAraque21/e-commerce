<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
</head>

<body>
   <%- include('../includes/navigation.ejs') %>

    <main>
        <% if(message) {%>
          <% if(type === "failure") { %>
            <%- include("../includes/flash-messages.ejs", {failureMessage: message}) %>
          <% } else { %>
            <%- include("../includes/flash-messages.ejs", {successMessage: message}) %> 
          <% } %>
        <% } %>
        <!-- CONTAINER -->
    <div class="container">
        <!-- TITLE -->
        <h1 class="text-dark text-center mb-4">Create Account</h1>
  
        <form class="row g-3" action="signup" method="POST" novalidate>
          <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
          <!-- NAME -->
          <div class="col-md-6">
            <label for="name" class="form-label text-dark">Name</label>
            <input type="text" name="name" class="form-control <%= validationErrors.find(e => e.param === "name") ? "invalid" : "" %>" id="name" value="<%= oldInput.name %>" />
          </div>
  
          <!-- E-Mail -->
          <div class="col-md-6">
            <label for="email" class="form-label text-dark">E-Mail</label>
            <input
              type="text"
              name="email"
              class="form-control <%= validationErrors.find(e => e.param === "email") ? "invalid" : "" %>"
              id="email"
              value="<%= oldInput.email %>"
            />
          </div>
  
          <!-- Address -->
          <div class="col-md-6">
            <label for="address" class="form-label text-dark">Address</label>
            <input type="text" name="address" class="form-control <%= validationErrors.find(e => e.param === "address") ? "invalid" : "" %>" id="address" value="<%= oldInput.address %>" />
          </div>

          <!-- GENDER -->
          <div class="col mx-3">
            <label for="gender" class="form-label text-dark">Gender</label>
            <select name="gender" id="gender" class="form-select <%= validationErrors.find(e => e.param === "gender") ? "invalid" : "" %>">
                <option selected>...</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Prefer not to say">Prefer not to say</option>
            </select>
          </div>

          <!-- AGE -->
          <div class="col">
            <label for="age" class="form-label text-dark">Age</label>
            <input type="number" name="age" class="form-control <%= validationErrors.find(e => e.param === "age") ? "invalid" : "" %>" id="age" value="<%= oldInput.age %>" />
          </div>
  
          <!-- PASSWORD -->
          <div class="col-md-6">
            <label for="password" class="form-label text-dark">Password</label>
            <input
              type="password"
              name="password"
              class="form-control <%= validationErrors.find(e => e.param === "password") ? "invalid" : "" %>"
              id="password"
              value="<%= oldInput.password %>"
            />
          </div>
  
          <!-- CONFIRM PASSWORD -->
            <div class="col-md-6">
              <label for="confirmPassword" class="form-label text-dark"
                >Confirm Password</label
              >
              <input
              type="password"
              name="confirmPassword"
              class="form-control <%= validationErrors.find(e => e.param === "confirmPassword") ? "invalid" : "" %>"
              id="confirmPassword"
              value="<%= oldInput.password %>"
            />
            </div>
  
          <!-- BUTTON -->
          <div class="col-12">
            <button
              type="submit"
              class="btn btn-outline-success w-100 mt-4 mb-5"
            >
              Signup
            </button>
          </div>
        </form>
      </div>
    </main>
<%- include('../includes/end.ejs') %>